{"title":"LogicInsight - Nutanix VMs Inventory","description":"### üìä LogicInsight - Nutanix VMs Inventory Dashboard Explanation\n\nThe **LogicInsight - Nutanix VMs Inventory Dashboard** gives a **comprehensive view of all virtual machines (VMs)** within the Nutanix clusters. It is designed to **monitor VM configurations, resource allocations, power states, protection status, and general health**, all in a **single, consolidated inventory**.\n\n***\n\n## 1Ô∏è‚É£ **VMs Inventory Table (Main Section)**\n\nThis table shows **key details of every VM** deployed across the selected Nutanix clusters. It's structured with **critical data fields**, providing administrators with **quick insights into VM health and usage**.\n\n| **Field Name**                                                                         | **Description**                                                                                                 |\n| -------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------- |\n| **CLUSTER_NAME**                                                                       | Identifies the Nutanix cluster where the VM is running.                                                         |\n| **VM_NAME**                                                                            | The name assigned to the virtual machine.                                                                       |\n| **VM_POWERSTATE**                                                                      | Displays whether the VM is **ON** or **OFF**.                                                                   |\n| **HOST_NAME**                                                                          | The physical host where the VM is currently running.                                                            |\n| **VM_IP_1**                                                                            | Shows the **primary IP address** of the VM.                                                                     |\n| **VM_PD**                                                                              | Indicates whether the VM is protected by a **Protection Domain (PD)** or **Protection Policy**.                 |\n| ‚û° `UNPROTECTED` means the VM has no protection, posing a **risk of data loss**.        |                                                                                                                 |\n| ‚û° `PROTECTION POLICY` indicates it‚Äôs covered by a scheduled backup/replication policy. |                                                                                                                 |\n| **VM_VCPU**                                                                            | The number of **virtual CPUs** assigned to the VM.                                                              |\n| **VM_MEMORY**                                                                          | The amount of **RAM** allocated to the VM.                                                                      |\n| **VM_DISK**                                                                            | The total **disk size** assigned to the VM.                                                                     |\n| **VM_ADAPTERS**                                                                        | The number of **network interfaces (NICs)** connected to the VM.                                                |\n| **VM_NGT**                                                                             | Indicates whether **Nutanix Guest Tools (NGT)** are installed and active on the VM (1 = Enabled, 0 = Disabled). |\n| ‚úî **NGT is required** for file-level restore and advanced VM management operations.    |                                                                                                                 |\n\n***\n\n## 2Ô∏è‚É£ **Use Cases & Benefits**\n\n‚úÖ **VM Protection Status Tracking**\n\n-   Quickly identify **unprotected VMs** that are not included in disaster recovery or backup jobs.\n-   Prioritize adding **critical workloads** to a protection domain or policy.\n\n‚úÖ **Resource Allocation Visibility**\n\n-   Monitor and balance **vCPU, memory, and disk** resources across clusters.\n-   Helps with **capacity planning** and identifying **over-provisioned or underutilized** VMs.\n\n‚úÖ **Power State & Location**\n\n-   Detect VMs that are **OFF** or placed on unexpected hosts.\n-   Track **VM placement and migration** during normal operations or failover events.\n\n‚úÖ **Nutanix Guest Tools (NGT) Monitoring**\n\n-   Ensure **NGT is enabled** for VMs requiring **advanced features** like guest file restores and application-consistent backups.\n\n***\n\n## 3Ô∏è‚É£ **Best Practices & Recommendations**\n\nüîπ Regularly review **VM_PD (Protection Domain) status** to avoid gaps in data protection.\\\nüîπ Monitor **resource allocations** for opportunities to **optimize workloads** (e.g., reducing over-provisioned memory).\\\nüîπ Verify **NGT deployment** on all critical VMs to **enable advanced Nutanix features**.\\\nüîπ Use this dashboard as part of a **weekly or monthly health check** to ensure **compliance with backup policies** and **resource governance**.\n\n***\n\n### ‚úÖ Why This Dashboard Matters\n\nThis **VMs Inventory Dashboard** empowers administrators to:\n\n-   Maintain **visibility and control** over the VM environment.\n-   Improve **data protection coverage**.\n-   Optimize **resource allocation and capacity planning**.\n-   Ensure **operational readiness** through real-time monitoring.","widgets":[{"id":8542605482307930,"definition":{"type":"image","url":"https://logicappupdate.s3.us-east-1.amazonaws.com/dash_logo.png","sizing":"cover","has_background":true,"has_border":false,"vertical_align":"center","horizontal_align":"center"},"layout":{"x":0,"y":0,"width":12,"height":1}},{"id":5110121017986846,"definition":{"title":"VMs Inventory","title_size":"16","title_align":"left","time":{"type":"live","unit":"minute","value":1},"type":"query_table","requests":[{"queries":[{"data_source":"metrics","name":"query1","query":"avg:logicinsight.pe.vms_numVCpus{$cluster_name,$host_name,$vm_pd,$vm_powerstate} by {ntnx_cluster_name,vm_name,vm_powerstate,host_name,vm_ip_1,vm_pd}","aggregator":"last"},{"data_source":"metrics","name":"query2","query":"avg:logicinsight.pe.vms_memoryCapacityInBytes{$cluster_name,$host_name,$vm_pd,$vm_powerstate} by {ntnx_cluster_name,vm_name,vm_powerstate,host_name,vm_ip_1,vm_pd}","aggregator":"last"},{"data_source":"metrics","name":"query3","query":"avg:logicinsight.pe.vms_diskCapacityInBytes{$cluster_name,$host_name,$vm_pd,$vm_powerstate} by {ntnx_cluster_name,vm_name,vm_powerstate,host_name,vm_ip_1,vm_pd}","aggregator":"last"},{"data_source":"metrics","name":"query4","query":"avg:logicinsight.pe.vms_numNetworkAdapters{$cluster_name,$host_name,$vm_pd,$vm_powerstate} by {ntnx_cluster_name,vm_name,vm_powerstate,host_name,vm_ip_1,vm_pd}","aggregator":"last"},{"data_source":"metrics","name":"query5","query":"avg:logicinsight.pe.vms_ngt_enabled{$cluster_name,$host_name,$vm_pd,$vm_powerstate} by {ntnx_cluster_name,vm_name,vm_powerstate,host_name,vm_ip_1,vm_pd}","aggregator":"last"}],"response_format":"scalar","text_formats":[[],[],[{"match":{"type":"is","value":"on"},"palette":"green_on_white","replace":{"type":"all","with":"ON"}},{"match":{"type":"is","value":"off"},"palette":"red_on_white","replace":{"type":"all","with":"OFF"}}],[],[],[{"match":{"type":"is","value":"entity_centric"},"palette":"black_on_light_green","replace":{"type":"all","with":"PROTECTION POLICY"}},{"match":{"type":"is","value":"unprotected"},"palette":"black_on_light_red","replace":{"type":"all","with":"UNPROTECTED"}},{"match":{"type":"is","value":"legacy"},"palette":"black_on_light_green","replace":{"type":"all","with":"PROTECTION DOMAIN"}}]],"sort":{"order_by":[{"type":"group","name":"vm_name","order":"asc"}],"count":500},"formulas":[{"cell_display_mode":"bar","alias":"VM_VCPU","formula":"query1"},{"cell_display_mode":"bar","alias":"VM_MEMORY","number_format":{"unit":{"type":"canonical_unit","unit_name":"byte"}},"formula":"query2"},{"cell_display_mode":"bar","alias":"VM_DISK","number_format":{"unit":{"type":"canonical_unit","unit_name":"byte"}},"formula":"query3"},{"cell_display_mode":"bar","alias":"VM_ADAPTERS","formula":"query4"},{"conditional_formats":[{"comparator":"=","value":0,"palette":"black_on_light_yellow"},{"comparator":"=","value":1,"palette":"black_on_light_green"}],"cell_display_mode":"number","alias":"VM_NGT","formula":"query5"}]}],"has_search_bar":"always","custom_links":[{"label":"VMs Protection Domain","link":"https://app.datadoghq.com/dashboard/7n9-nrf-66w/protection-domain?fromUser=false&refresh_mode=sliding&tpl_var_cluster_name[0]={{cluster_name.value}}&tpl_var_vm_name[0]={{vm_name.value}}&live=true"},{"label":"VMs single view","link":"https://app.datadoghq.com/dashboard/qx6-yn9-hvc/vms-single-view?fromUser=false&refresh_mode=sliding&tpl_var_cluster_name[0]={{$cluster_name.value}}&tpl_var_vm_name[0]={{vm_name.value}}&live=true"}]},"layout":{"x":0,"y":1,"width":12,"height":9}}],"template_variables":[{"name":"cluster_name","prefix":"ntnx_cluster_name","available_values":[],"default":"*"},{"name":"host_name","prefix":"host_name","available_values":[],"default":"*"},{"name":"vm_pd","prefix":"vm_pd","available_values":[],"default":"*"},{"name":"vm_powerstate","prefix":"vm_powerstate","available_values":[],"default":"*"}],"layout_type":"ordered","notify_list":[],"reflow_type":"fixed"}