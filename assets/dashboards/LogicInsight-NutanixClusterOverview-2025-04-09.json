{"title":"LogicInsight - Nutanix Cluster Overview","description":"### **üìä LogicInsight - Nutanix Cluster Overview Dashboard Explanation**\n\nThis **LogicInsight - Nutanix Cluster Overview** dashboard provides a **comprehensive visualization of a Nutanix cluster's health, performance, and resource utilization**. It is divided into multiple sections to offer insights into different aspects of the infrastructure, making it easier to monitor and troubleshoot potential issues. Below is a **detailed explanation of each section**:\n\n***\n\n## **1Ô∏è‚É£ Cluster Summary (Green Section - Left)**\n\nThis section provides a **high-level overview** of the cluster, displaying key statistics:\n\n-   **Number of VMs:** The total number of virtual machines (VMs) running in the cluster.\n-   **vCPU Ratio:** The ratio of virtual CPUs (vCPUs) to physical CPU cores, helping to understand CPU allocation efficiency.\n-   **Total vCPUs ON:** The number of active vCPUs currently running in the environment.\n-   **Total Physical Cores:** The number of physical CPU cores available in the cluster.\n-   **Storage Container Count:** The number of storage containers configured in the cluster.\n-   **Host Count:** The total number of physical hosts in the cluster.\n-   **Lockdown State:** Indicates if any security lockdown mode is enabled (0 means no lockdown).\n-   **Redundancy Factor:** Represents the fault tolerance level of the cluster.\n\n***\n\n## **2Ô∏è‚É£ Cluster Alarms & Events (Orange Section - Left Center)**\n\nThis section **monitors issues and alerts** related to the cluster:\n\n-   **Cluster Alarms:** Displays the number of active warnings and critical alerts affecting the cluster.\n-   **Task Events:** Shows recent tasks and operations performed in the environment.\n-   **Cluster Events:** Lists significant system events such as configuration changes, failures, or recovery processes.\n\nThis helps admins quickly **identify problems and take action** before they impact operations.\n\n***\n\n## **3Ô∏è‚É£ VMs Summary (Yellow Section - Center)**\n\nThis section **focuses on the virtual machines (VMs) running in the cluster**:\n\n-   **Protected VMs:** Number of VMs that are backed up or replicated.\n-   **Unprotected VMs:** Number of VMs that **are not protected**, which may be a risk in case of failure.\n-   **VM CPU Ready Time:** A visualization of how much time VMs are waiting for CPU resources (high values indicate CPU contention).\n-   **VMs per Node:** Displays how virtual machines are distributed across different nodes (hosts).\n\nThis section is **useful for capacity planning and workload balancing**.\n\n***\n\n## **4Ô∏è‚É£ Host Summary (Gray Section - Right Center)**\n\nThis section provides a **detailed view of the physical hosts**:\n\n-   **Bad Disks:** Number of faulty disks in the cluster (0 means no disk failures).\n-   **Degraded Hosts:** Number of hosts experiencing issues (0 means all hosts are healthy).\n-   **Host Status Table:** Displays the status of each host, including health indicators and disk usage.\n-   **Total Disk & Types:** A pie chart showing **the number and type of storage disks** (HDD vs. SSD) used in the cluster.\n\nThis section helps in **identifying hardware failures** and ensuring all nodes are functioning properly.\n\n***\n\n## **5Ô∏è‚É£ Resource Status (Blue Section - Right)**\n\nThis section tracks **resource utilization** in the cluster:\n\n-   **CPU % Usage:** The percentage of total CPU resources in use.\n-   **Memory % Usage:** The percentage of RAM being utilized.\n-   **Storage Capacity (Physical & Logical):** Displays the total and used storage capacity at both the **physical disk level and logical storage level**.\n-   **Resiliency Capacity:** The storage reserved for redundancy and fault tolerance.\n-   **Storage Free Space:** Available storage capacity for future workload expansion.\n-   **Storage Resilience in Use:** Indicates how much of the **redundancy storage** is being utilized.\n\nThis section ensures that **resource usage is optimized** and alerts when thresholds are exceeded.\n\n***\n\n## **6Ô∏è‚É£ Cluster Performance (Purple Section - Bottom)**\n\nThis section provides **performance insights** into the cluster's **input/output operations**:\n\n-   **Cluster-wide Controller IOPS:** Displays the **Input/Output Operations Per Second (IOPS)** across the cluster.\n-   **Cluster-wide Controller IO Bandwidth:** Shows the total **data transfer rate** in the cluster.\n-   **Cluster-wide Controller Latency:** Measures the **response time of storage and compute operations**.\n-   **Host CPU Usage:** Indicates how much CPU is being used across hosts.\n\nThis section is essential for **performance tuning and troubleshooting bottlenecks**.\n\n***\n\n### **üìå Summary**\n\nThis **LogicInsight dashboard** allows **administrators and engineers to quickly assess the health, performance, and resource utilization of a Nutanix cluster**. By categorizing information into **Summary, Alarms, VM Monitoring, Host Status, Resource Utilization, and Performance Metrics**, it provides an **efficient way to detect issues, optimize workloads, and ensure a stable infrastructure**.","widgets":[{"id":7914335584036572,"definition":{"type":"image","url":"https://logicappupdate.s3.us-east-1.amazonaws.com/dash_logo.png","sizing":"cover","has_background":true,"has_border":true,"vertical_align":"center","horizontal_align":"center"},"layout":{"x":0,"y":0,"width":8,"height":1}},{"id":1624505910868998,"definition":{"title":"Cluster Alarms & Events","background_color":"vivid_orange","show_title":true,"type":"group","layout_type":"ordered","widgets":[{"id":3189521736550614,"definition":{"title":"Cluster Alarms","type":"manage_status","display_format":"countsAndList","color_preference":"text","hide_zero_counts":true,"show_status":true,"last_triggered_format":"relative","query":"group:(ntnx_cluster_name:$cluster_name.value)","sort":"status,asc","count":50,"start":0,"summary_type":"groups","show_priority":false,"show_last_triggered":false},"layout":{"x":0,"y":0,"width":4,"height":2}},{"id":2710391687486186,"definition":{"title":"Tasks Events","title_size":"16","title_align":"left","time":{"type":"live","unit":"day","value":2},"requests":[{"response_format":"event_list","query":{"query_string":"task_id:* cluster_name:$cluster_name.value","data_source":"event_stream","event_size":"s"},"columns":[]}],"type":"list_stream"},"layout":{"x":0,"y":2,"width":4,"height":2}},{"id":2047147442070390,"definition":{"title":"Cluster Events","title_size":"16","title_align":"left","time":{"type":"live","unit":"day","value":2},"requests":[{"response_format":"event_list","query":{"query_string":"task_id:* cluster_name:$cluster_name.value","data_source":"event_stream","event_size":"s"},"columns":[]}],"type":"list_stream"},"layout":{"x":0,"y":4,"width":4,"height":2}}]},"layout":{"x":8,"y":0,"width":4,"height":7}},{"id":7095600732082276,"definition":{"title":"Cluster Summary | $cluster_name","background_color":"vivid_green","show_title":true,"type":"group","layout_type":"ordered","widgets":[{"id":4035450868361120,"definition":{"title":"Total vCPU VMs ON","title_size":"13","title_align":"left","time":{"type":"live","unit":"minute","value":1},"type":"query_value","requests":[{"response_format":"scalar","queries":[{"data_source":"metrics","name":"query1","query":"avg:logicinsight.pe.cluster_total_vcpus_vms_on{$cluster_name}","aggregator":"last"}],"formulas":[{"number_format":{"unit":{"type":"custom_unit_label","label":"vCPU"}},"formula":"query1"}]}],"autoscale":true,"text_align":"center","precision":2},"layout":{"x":0,"y":0,"width":2,"height":1}},{"id":5688588421583468,"definition":{"title":"vCPU Ratio ","title_size":"13","title_align":"left","type":"query_value","requests":[{"response_format":"scalar","queries":[{"data_source":"metrics","name":"query2","query":"avg:logicinsight.pe.cluster_vcpu_ratio{$cluster_name}","aggregator":"last"}],"conditional_formats":[{"comparator":"<","value":6,"palette":"white_on_green"},{"comparator":">=","value":6,"palette":"white_on_yellow"}],"formulas":[{"number_format":{"unit":{"type":"custom_unit_label","label":" vCPU:1pCore"}},"formula":"query2 / 10000"}]}],"autoscale":true,"text_align":"center","precision":2},"layout":{"x":2,"y":0,"width":2,"height":1}},{"id":5577115288691812,"definition":{"title":"Storage Container Count","title_size":"13","title_align":"left","time":{"type":"live","unit":"minute","value":1},"type":"query_value","requests":[{"response_format":"scalar","queries":[{"data_source":"metrics","name":"query1","query":"avg:logicinsight.pe.container_num_container_cluster{$cluster_name}","aggregator":"last"}],"formulas":[{"formula":"query1"}],"conditional_formats":[{"comparator":">","value":1,"palette":"green_on_white"}]}],"autoscale":true,"custom_links":[{"label":"Host Overview","link":"https://app.datadoghq.com/dashboard/cgg-56c-a3g/hosts-overview?fromUser=false&refresh_mode=sliding&tpl_var_cluster_name[0]={{$cluster_name.value}}&live=true"}],"precision":0},"layout":{"x":0,"y":1,"width":2,"height":1}},{"id":2607611622037464,"definition":{"title":"Total Physical Cores","title_size":"13","title_align":"left","time":{"type":"live","unit":"minute","value":1},"type":"query_value","requests":[{"response_format":"scalar","queries":[{"data_source":"metrics","name":"query1","query":"avg:logicinsight.pe.cluster_total_pcores{$cluster_name}","aggregator":"last"}],"formulas":[{"number_format":{"unit":{"type":"custom_unit_label","label":"Cores"}},"formula":"query1"}]}],"autoscale":true,"text_align":"center","precision":2},"layout":{"x":2,"y":1,"width":2,"height":1}},{"id":2981496422982340,"definition":{"title":"Lockdown |1 Disable| 0 Enable","title_size":"13","title_align":"left","time":{"type":"live","unit":"minute","value":1},"type":"query_value","requests":[{"response_format":"scalar","queries":[{"data_source":"metrics","name":"query1","query":"avg:logicinsight.pe.cluster_lockdown{$cluster_name}","aggregator":"last"}],"conditional_formats":[{"comparator":">=","value":1,"palette":"black_on_light_green"},{"comparator":"<=","value":0,"palette":"white_on_red","custom_bg_color":"#e60000"}],"formulas":[{"formula":"query1"}]}],"autoscale":true,"precision":0},"layout":{"x":0,"y":2,"width":2,"height":1}},{"id":4006923113594140,"definition":{"title":"Redundancy Factor","title_size":"13","title_align":"left","time":{"type":"live","unit":"minute","value":1},"type":"query_value","requests":[{"response_format":"scalar","queries":[{"data_source":"metrics","name":"query1","query":"avg:logicinsight.pe.cluster_rf{$cluster_name}","aggregator":"last"}],"formulas":[{"formula":"query1"}],"conditional_formats":[{"comparator":"=","value":2,"palette":"green_on_white"},{"comparator":"=","value":3,"palette":"green_on_white"},{"comparator":"<=","value":1,"palette":"red_on_white"}]}],"autoscale":true,"precision":2},"layout":{"x":2,"y":2,"width":2,"height":1}},{"id":5056168926451812,"definition":{"title":"Versions","title_size":"16","title_align":"left","type":"query_table","requests":[{"queries":[{"data_source":"metrics","name":"query1","query":"max:logicinsight.pe.cluster_num_hosts{$cluster_name} by {cluster_aos_version,cluster_ncc_version,cluster_timezone,cluster_subnet}","aggregator":"last"}],"response_format":"scalar","sort":{"count":25,"order_by":[{"type":"formula","index":0,"order":"desc"}]},"formulas":[{"cell_display_mode":"number","alias":"Hosts","formula":"query1"}]}],"has_search_bar":"never"},"layout":{"x":0,"y":3,"width":4,"height":2}}]},"layout":{"x":0,"y":1,"width":4,"height":6}},{"id":8295269293792080,"definition":{"title":"Resource Status","background_color":"blue","show_title":true,"type":"group","layout_type":"ordered","widgets":[{"id":4239493980091706,"definition":{"title":"CPU % Usage","title_size":"13","title_align":"left","time":{"type":"live","unit":"minute","value":1},"type":"query_value","requests":[{"response_format":"scalar","queries":[{"data_source":"metrics","name":"query1","query":"avg:logicinsight.pe.cluster_stats_hypervisor_cpu_usage_ppm{$cluster_name}","aggregator":"last"}],"formulas":[{"number_format":{"unit":{"type":"canonical_unit","unit_name":"percent"}},"formula":"query1 / 10000"}],"conditional_formats":[{"comparator":">","value":80,"palette":"white_on_yellow","image_url":"","hide_value":false},{"comparator":"<","value":80,"palette":"white_on_green"}]}],"autoscale":true,"precision":1},"layout":{"x":0,"y":0,"width":2,"height":1}},{"id":7329317989461822,"definition":{"title":"Memory % Usage","title_size":"13","title_align":"left","time":{"type":"live","unit":"minute","value":1},"type":"query_value","requests":[{"response_format":"scalar","queries":[{"data_source":"metrics","name":"query1","query":"avg:logicinsight.pe.cluster_stats_hypervisor_memory_usage_ppm{$cluster_name}","aggregator":"last"}],"formulas":[{"number_format":{"unit":{"type":"canonical_unit","unit_name":"percent"}},"formula":"query1 / 10000"}],"conditional_formats":[{"comparator":"<","value":80,"palette":"white_on_green"},{"comparator":">","value":75,"palette":"white_on_yellow"},{"comparator":">","value":85,"palette":"white_on_red"}]}],"autoscale":true,"precision":1,"timeseries_background":{"yaxis":{"include_zero":false},"type":"area"}},"layout":{"x":2,"y":0,"width":2,"height":1}},{"id":1441281662549338,"definition":{"title":"Storage Capacity Physical","title_size":"16","title_align":"left","time":{"type":"live","unit":"minute","value":1},"type":"query_value","requests":[{"response_format":"scalar","queries":[{"data_source":"metrics","name":"query1","query":"avg:logicinsight.pe.cluster_usage_stats_storage.capacity_bytes{$cluster_name}","aggregator":"last"}],"formulas":[{"number_format":{"unit":{"type":"canonical_unit","unit_name":"byte"}},"formula":"query1"}]}],"autoscale":true,"precision":2,"timeseries_background":{"yaxis":{},"type":"bars"}},"layout":{"x":0,"y":1,"width":2,"height":1}},{"id":6216275728588022,"definition":{"title":"Storage Usage Physical","title_size":"16","title_align":"left","time":{"type":"live","unit":"minute","value":1},"type":"query_value","requests":[{"response_format":"scalar","queries":[{"data_source":"metrics","name":"query1","query":"avg:logicinsight.pe.cluster_usage_stats_storage.usage_bytes{$cluster_name}","aggregator":"last"}],"formulas":[{"number_format":{"unit":{"type":"canonical_unit","unit_name":"byte"}},"formula":"query1"}]}],"autoscale":true,"precision":1,"timeseries_background":{"yaxis":{"include_zero":false},"type":"area"}},"layout":{"x":2,"y":1,"width":2,"height":1}},{"id":1350763550261286,"definition":{"title":"Storage Capacity Logical","title_size":"16","title_align":"left","time":{"type":"live","unit":"minute","value":1},"type":"query_value","requests":[{"response_format":"scalar","queries":[{"data_source":"metrics","name":"query1","query":"avg:logicinsight.pe.cluster_usage_stats_storage.capacity_bytes{$cluster_name}","aggregator":"last"},{"data_source":"metrics","name":"query2","query":"avg:logicinsight.pe.cluster_rf{$cluster_name}","aggregator":"last"}],"formulas":[{"number_format":{"unit":{"type":"canonical_unit","unit_name":"byte"}},"formula":"query1 / query2"}]}],"autoscale":true,"precision":2,"timeseries_background":{"yaxis":{},"type":"bars"}},"layout":{"x":0,"y":2,"width":2,"height":1}},{"id":3954400399738802,"definition":{"title":"Storage Usage Logical","title_size":"16","title_align":"left","time":{"type":"live","unit":"minute","value":1},"type":"query_value","requests":[{"response_format":"scalar","queries":[{"data_source":"metrics","name":"query1","query":"avg:logicinsight.pe.cluster_usage_stats_storage.usage_bytes{$cluster_name}","aggregator":"last"},{"data_source":"metrics","name":"query2","query":"avg:logicinsight.pe.cluster_rf{$cluster_name}","aggregator":"last"}],"formulas":[{"number_format":{"unit":{"type":"canonical_unit","unit_name":"byte"}},"formula":"query1 / query2"}]}],"autoscale":true,"precision":2,"timeseries_background":{"yaxis":{"include_zero":false},"type":"area"}},"layout":{"x":2,"y":2,"width":2,"height":1}},{"id":5519787092598770,"definition":{"title":"Resilency Capacity Physical","title_size":"13","title_align":"left","time":{"type":"live","unit":"minute","value":1},"type":"query_value","requests":[{"response_format":"scalar","queries":[{"data_source":"metrics","name":"query1","query":"avg:logicinsight.pe.cluster_data_resiliency{$cluster_name}","aggregator":"last"}],"formulas":[{"number_format":{"unit":{"type":"canonical_unit","unit_name":"byte"}},"formula":"query1"}]}],"autoscale":true,"text_align":"center","precision":0,"timeseries_background":{"yaxis":{},"type":"bars"}},"layout":{"x":0,"y":3,"width":2,"height":1}},{"id":8320255095818714,"definition":{"title":"Resilency Capacity Logical","title_size":"13","title_align":"left","time":{"type":"live","unit":"minute","value":1},"type":"query_value","requests":[{"response_format":"scalar","queries":[{"data_source":"metrics","name":"query1","query":"avg:logicinsight.pe.cluster_data_resiliency{$cluster_name}","aggregator":"last"},{"data_source":"metrics","name":"query2","query":"avg:logicinsight.pe.cluster_rf{$cluster_name}","aggregator":"last"}],"formulas":[{"number_format":{"unit":{"type":"canonical_unit","unit_name":"byte"}},"formula":"query1 / query2"}]}],"autoscale":true,"text_align":"center","precision":2,"timeseries_background":{"yaxis":{},"type":"bars"}},"layout":{"x":2,"y":3,"width":2,"height":1}},{"id":7663752583752726,"definition":{"title":"Storage Resilience In Use","title_size":"13","title_align":"left","time":{"type":"live","unit":"minute","value":1},"type":"query_value","requests":[{"response_format":"scalar","queries":[{"data_source":"metrics","name":"query2","query":"avg:logicinsight.pe.cluster_usage_stats_storage.usage_bytes{$cluster_name}","aggregator":"last"},{"data_source":"metrics","name":"query1","query":"avg:logicinsight.pe.cluster_data_resiliency{$cluster_name}","aggregator":"last"}],"conditional_formats":[{"comparator":"<","value":75,"palette":"white_on_green"},{"comparator":">","value":75,"palette":"white_on_yellow"}],"formulas":[{"number_format":{"unit":{"type":"canonical_unit","unit_name":"percent"}},"formula":"(query2 / query1) * 100"}]}],"autoscale":true,"text_align":"center","precision":0,"timeseries_background":{"yaxis":{"include_zero":true},"type":"area"}},"layout":{"x":0,"y":4,"width":2,"height":1}},{"id":478500556592644,"definition":{"title":"Storage Free Logical","title_size":"16","title_align":"left","time":{"type":"live","unit":"minute","value":1},"type":"query_value","requests":[{"response_format":"scalar","queries":[{"data_source":"metrics","name":"query1","query":"avg:logicinsight.pe.cluster_usage_stats_storage.free_bytes{$cluster_name}","aggregator":"last"},{"data_source":"metrics","name":"query2","query":"avg:logicinsight.pe.cluster_rf{$cluster_name}","aggregator":"last"}],"formulas":[{"number_format":{"unit":{"type":"canonical_unit","unit_name":"byte"}},"formula":"query1 / query2"}]}],"autoscale":true,"precision":2,"timeseries_background":{"yaxis":{"include_zero":false},"type":"area"}},"layout":{"x":2,"y":4,"width":2,"height":1}}]},"layout":{"x":4,"y":1,"width":4,"height":6}},{"id":1942489316833396,"definition":{"title":"Cluster Performance","background_color":"vivid_purple","show_title":true,"type":"group","layout_type":"ordered","widgets":[{"id":5693494154429144,"definition":{"title":"Cluster-wide Controller IOPS","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"vertical","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"number_format":{"unit":{"type":"custom_unit_label","label":"IOPS"}},"formula":"query1"}],"queries":[{"data_source":"metrics","name":"query1","query":"max:logicinsight.pe.cluster_stats_controller_num_iops{$cluster_name} by {cluster_name}"}],"response_format":"timeseries","style":{"palette":"green","order_by":"values","order_reverse":false,"line_type":"solid","line_width":"normal"},"display_type":"line"}],"markers":[]},"layout":{"x":0,"y":0,"width":6,"height":3}},{"id":2410061303083538,"definition":{"title":"Cluster-wide Controller IO B/W","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"horizontal","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"number_format":{"unit":{"type":"custom_unit_label","label":"MBps"}},"formula":"query1 / 1024"}],"queries":[{"data_source":"metrics","name":"query1","query":"max:logicinsight.pe.cluster_stats_controller_io_bandwidth_kBps{$cluster_name} by {cluster_name}"}],"response_format":"timeseries","style":{"palette":"dog_classic","order_by":"values","line_type":"solid","line_width":"normal"},"display_type":"line"}],"markers":[]},"layout":{"x":6,"y":0,"width":6,"height":3}}]},"layout":{"x":0,"y":7,"width":12,"height":4}},{"id":3715344476747554,"definition":{"title":"VMs Summary","background_color":"yellow","show_title":true,"type":"group","layout_type":"ordered","widgets":[{"id":2033757885194084,"definition":{"title":"Number of VMs","title_size":"13","title_align":"left","time":{"type":"live","unit":"minute","value":1},"type":"query_value","requests":[{"response_format":"scalar","queries":[{"data_source":"metrics","name":"query1","query":"avg:logicinsight.pe.cluster_vms_total{$cluster_name}","aggregator":"last"}],"formulas":[{"formula":"query1"}],"conditional_formats":[{"comparator":">","value":1,"palette":"green_on_white"}]}],"autoscale":true,"custom_links":[{"label":"VMs overview","link":"https://app.datadoghq.com/dashboard/6wq-xv9-uiw/vms-inventory?refresh_mode=sliding&tpl_var_cluster_name[0]={{$cluster_name.value}}"}],"precision":0},"layout":{"x":0,"y":0,"width":4,"height":1}},{"id":1868086345724110,"definition":{"title":"Protected VMs | PD | PP","title_size":"13","title_align":"left","time":{"type":"live","unit":"minute","value":1},"type":"query_value","requests":[{"response_format":"scalar","queries":[{"data_source":"metrics","name":"query1","query":"avg:logicinsight.pe.vms_dp_legacy{$cluster_name}","aggregator":"last"},{"data_source":"metrics","name":"query2","query":"avg:logicinsight.pe.vms_dp_entity_centric{$cluster_name}","aggregator":"last"}],"formulas":[{"formula":"query1 + query2"}],"conditional_formats":[{"comparator":">","value":1,"palette":"green_on_white"}]}],"autoscale":true,"custom_links":[{"label":"VMs Protected list","link":"https://app.datadoghq.com/dashboard/6wq-xv9-uiw/vms-inventory?refresh_mode=sliding&tpl_var_cluster_name[0]={{$cluster_name.value}}&tpl_var_vm_pd[0]=entity_centric&tpl_var_vm_pd[1]=legacy&live=true"}],"precision":2},"layout":{"x":0,"y":1,"width":2,"height":1}},{"id":4490398564179902,"definition":{"title":"Unprotected VMs | PD | PP","title_size":"13","title_align":"left","time":{"type":"live","unit":"minute","value":1},"type":"query_value","requests":[{"response_format":"scalar","queries":[{"data_source":"metrics","name":"query1","query":"avg:logicinsight.pe.vms_dp_unprotected{$cluster_name}","aggregator":"last"}],"conditional_formats":[{"comparator":">","value":1,"palette":"yellow_on_white"}],"formulas":[{"formula":"query1"}]}],"autoscale":true,"custom_links":[{"label":"VMs Unprotected list","link":"https://app.datadoghq.com/dashboard/6wq-xv9-uiw/vms-inventory?refresh_mode=sliding&tpl_var_cluster_name[0]={{$cluster_name.value}}&tpl_var_vm_pd[0]=unprotected&live=true"}],"precision":2},"layout":{"x":2,"y":1,"width":2,"height":1}},{"id":7208763396390570,"definition":{"title":"VMs TOPs | CPU READY TIME ","title_size":"13","title_align":"left","type":"toplist","requests":[{"queries":[{"data_source":"metrics","name":"query1","query":"avg:logicinsight.pe.vms_stats_hypervisor.cpu_ready_time_ppm{$cluster_name} by {vm_name,host_name,vm_ip_1}","aggregator":"max"}],"response_format":"scalar","conditional_formats":[{"comparator":"<","value":5,"palette":"custom_bg","custom_bg_color":"#18aa22"},{"comparator":">","value":5,"palette":"custom_bg","custom_bg_color":"#f27c00"}],"formulas":[{"number_format":{"unit":{"type":"canonical_unit","unit_name":"percent"},"unit_scale":{"type":"canonical_unit","unit_name":"percent"}},"formula":"query1 / 10000"}],"sort":{"count":5,"order_by":[{"type":"formula","index":0,"order":"desc"}]}}],"custom_links":[{"label":"VM single view","link":"https://app.datadoghq.com/dashboard/qx6-yn9-hvc/vms?fromUser=false&refresh_mode=sliding&tpl_var_cluster_name[0]={{$cluster_name.value}}&tpl_var_vm_name[0]={{vm_name.value}}&live=true"}],"style":{"display":{"type":"stacked"},"palette":"semantic"}},"layout":{"x":0,"y":2,"width":4,"height":2}},{"id":5544309989902836,"definition":{"title":"VMs per Node","title_size":"13","title_align":"left","time":{"type":"live","unit":"minute","value":1},"type":"toplist","requests":[{"queries":[{"data_source":"metrics","name":"query1","query":"avg:logicinsight.pe.host_num_vms{$cluster_name} by {host_name}","aggregator":"last"}],"response_format":"scalar","formulas":[{"formula":"query1"}],"sort":{"count":25,"order_by":[{"type":"formula","index":0,"order":"asc"}]}}],"custom_links":[{"label":"Host single view","link":"https://app.datadoghq.com/dashboard/cgg-56c-a3g/hosts-overview?fromUser=false&refresh_mode=sliding&tpl_var_cluster_name[0]={{$cluster_name.value}}&tpl_var_host_name[0]={{host_name.value}}&live=true"}],"style":{"display":{"type":"stacked","legend":"inline"}}},"layout":{"x":0,"y":4,"width":4,"height":2}}]},"layout":{"x":0,"y":0,"width":4,"height":7,"is_column_break":true}},{"id":4907910955162990,"definition":{"title":"Host Summary","background_color":"gray","show_title":true,"type":"group","layout_type":"ordered","widgets":[{"id":1714363665397602,"definition":{"title":"Number of Hosts","title_size":"13","title_align":"left","time":{"type":"live","unit":"minute","value":1},"type":"query_value","requests":[{"response_format":"scalar","queries":[{"data_source":"metrics","name":"query1","query":"avg:logicinsight.pe.cluster_num_hosts{$cluster_name}","aggregator":"last"}],"formulas":[{"formula":"query1"}],"conditional_formats":[{"comparator":">","value":1,"palette":"green_on_white"}]}],"autoscale":true,"custom_links":[{"label":"Host Overview","link":"https://app.datadoghq.com/dashboard/cgg-56c-a3g/hosts-overview?fromUser=false&refresh_mode=sliding&tpl_var_cluster_name[0]={{$cluster_name.value}}&live=true"}],"precision":2},"layout":{"x":0,"y":0,"width":4,"height":1}},{"id":6427395297086498,"definition":{"title":"Bad Disks","title_size":"13","title_align":"left","time":{"type":"live","unit":"minute","value":1},"type":"query_value","requests":[{"formulas":[{"formula":"query1"}],"queries":[{"data_source":"metrics","name":"query1","query":"sum:logicinsight.pe.disk_bad{$cluster_name} by {host}","aggregator":"last"}],"response_format":"scalar","conditional_formats":[{"comparator":"<=","value":0,"palette":"white_on_green"},{"comparator":">=","value":1,"palette":"white_on_red"}]}],"autoscale":true,"precision":0},"layout":{"x":0,"y":1,"width":2,"height":1}},{"id":4564171497354372,"definition":{"title":"Degraded Hosts","title_size":"16","title_align":"left","time":{"type":"live","unit":"minute","value":5},"type":"query_value","requests":[{"formulas":[{"formula":"query1"}],"queries":[{"data_source":"metrics","name":"query1","query":"sum:logicinsight.pe.host_is_degraded{$cluster_name}","aggregator":"last"}],"response_format":"scalar","conditional_formats":[{"comparator":"=","value":0,"palette":"white_on_green"},{"comparator":">","value":0,"palette":"white_on_red"}]}],"autoscale":true,"precision":0},"layout":{"x":2,"y":1,"width":2,"height":1}},{"id":8160979265190166,"definition":{"title":"Host Status","title_size":"16","title_align":"left","type":"query_table","requests":[{"queries":[{"data_source":"metrics","name":"query1","query":"avg:logicinsight.pe.host_memory_capacity_in_bytes{$cluster_name} by {host_name,host_model_name,host_serial,host_version,host_is_degraded,host_in_maintenance_mode}","aggregator":"last"}],"response_format":"scalar","text_formats":[[],[],[],[],[{"match":{"type":"is","value":"false"},"palette":"green_on_white","replace":{"type":"all","with":"NO"}},{"match":{"type":"is","value":"true"},"palette":"white_on_red","replace":{"type":"all","with":"YES"}},{"match":{"type":"is","value":"none"},"palette":"green_on_white","replace":{"type":"all","with":"NO"}}],[{"match":{"type":"is","value":"false"},"palette":"green_on_white","replace":{"type":"all","with":"NO"}},{"match":{"type":"is","value":"true"},"palette":"white_on_red","replace":{"type":"all","with":"YES"}},{"match":{"type":"is","value":"none"},"palette":"green_on_white","replace":{"type":"all","with":"NO"}}]],"sort":{"order_by":[{"type":"group","name":"host_name","order":"asc"}],"count":500},"formulas":[{"number_format":{"unit":{"type":"canonical_unit","unit_name":"byte"},"unit_scale":{"type":"canonical_unit","unit_name":"terabyte"}},"alias":"HOST_TOTAL_MEMORY","formula":"query1"}]}],"has_search_bar":"auto"},"layout":{"x":0,"y":2,"width":4,"height":2}},{"id":2807850743323752,"definition":{"title":"Total Disk & types","title_size":"16","title_align":"left","time":{"type":"live","unit":"minute","value":5},"requests":[{"queries":[{"name":"query1","data_source":"metrics","query":"sum:logicinsight.pe.disk_online{$cluster_name} by {storage_tier_name}","aggregator":"last"}],"response_format":"scalar","style":{"palette":"datadog16"},"formulas":[{"formula":"query1"}],"sort":{"count":500,"order_by":[{"type":"formula","index":0,"order":"desc"}]}}],"type":"sunburst","legend":{"type":"inline"}},"layout":{"x":0,"y":4,"width":4,"height":2}}]},"layout":{"x":4,"y":0,"width":4,"height":7}},{"id":2444955032488300,"definition":{"title":"Cluster Performance","background_color":"vivid_purple","show_title":true,"type":"group","layout_type":"ordered","widgets":[{"id":2916056020006492,"definition":{"title":"Cluster-wide Controller Latency","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"horizontal","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"number_format":{"unit":{"type":"canonical_unit","unit_name":"millisecond"}},"formula":"query1 / 1000"}],"queries":[{"data_source":"metrics","name":"query1","query":"max:logicinsight.pe.cluster_stats_controller_avg_io_latency_usecs{$cluster_name} by {cluster_name}"}],"response_format":"timeseries","style":{"palette":"dog_classic","order_by":"values","line_type":"solid","line_width":"normal"},"display_type":"line"}],"markers":[]},"layout":{"x":0,"y":0,"width":4,"height":3}},{"id":8787009519418278,"definition":{"title":"Host CPU Usage","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"horizontal","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"number_format":{"unit":{"type":"canonical_unit","unit_name":"percent"}},"formula":"query1 / 10000"}],"queries":[{"data_source":"metrics","name":"query1","query":"max:logicinsight.pe.host_stats_hypervisor_cpu_usage_ppm{$cluster_name} by {host_name}"}],"response_format":"timeseries","style":{"palette":"dog_classic","order_by":"values","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"max":"100"},"markers":[{"label":"¬†Warning¬†","value":"y = 80","display_type":"warning dashed"},{"label":"¬†Critical¬†","value":"y = 100","display_type":"error dashed"}]},"layout":{"x":4,"y":0,"width":4,"height":3}}]},"layout":{"x":0,"y":7,"width":8,"height":4}}],"template_variables":[{"name":"cluster_name","prefix":"ntnx_cluster_name","available_values":[],"default":"*"}],"layout_type":"ordered","notify_list":[],"reflow_type":"fixed"}